  <!--
  ~ Copyright (c) 2024 BMD™ Autonomous Holdings. All rights reserved.
  ~
  ~ Project: Bimod.io™
  ~ File: blogpost_list.html
  ~ Last Modified: 2024-10-05 01:39:47
  ~ Author: Ege Dogan Dursun (Co-Founder & Chief Executive Officer / CEO @ BMD™ Autonomous Holdings)
  ~ Created: 2024-10-05 14:42:34
  ~
  ~ This software is proprietary and confidential. Unauthorized copying,
  ~ distribution, modification, or use of this software, whether for
  ~ commercial, academic, or any other purpose, is strictly prohibited
  ~ without the prior express written permission of BMD™ Autonomous
  ~ Holdings.
  ~
  ~  For permission inquiries, please contact: admin@Bimod.io.
  ~
  -->

{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Blog - Latest Posts{% endblock %}

{% block page_css %}
  {{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/css/pages/front-page-help-center.css' %}"/>
{% endblock page_css %}

{% block content %}

  <section id="blog-main" style="margin-left: 20%; margin-right: 20%; margin-top: 5%; margin-bottom: 5%;">

    <!-- Blog Header: Start -->
    <section class="card section-py first-section-pt blog-header position-relative overflow-hidden text-center mb-12 p-12">
      <h4 class="justify-content-center bg-body p-4 rounded w-100 mb-12">
        <strong>BMD Autonomous Holdings. Bimod.io, BimodLab AIaaS Products</strong>
      </h4>
      <i class="ti ti-news text-primary text-center mb-4" style="font-size: 60px;"></i>
      <h1 class="text-center text-primary">
        <strong>Blog and Help Center</strong>
      </h1>
      <p class="text-center px-12 mb-0 mx-12 my-4 bg-body p-8 rounded">
        <i class="ti ti-info-circle me-2"></i>
        Explore our latest articles, tutorials, and insights. Stay informed and up-to-date with our blog posts on a
        variety of different topics such as the development status of our products, new features, and more exciting
        news about our organization and overall industry trends.
        <br>
        <a href="{% url 'landing:index' %}" class="btn btn-primary w-25 mt-8">
          <strong>
            <i class="ti ti-home me-2"></i>
            Back to Home
          </strong>
        </a>
      </p>
    </section>
    <!-- Blog Header: End -->

    <hr>

    <!-- Search Bar: Start -->
    <div class="row g-4 mb-4 mt-8 card card-border-shadow-primary p-4">
      <div class="col-xl-12">
        <h5 class="text-muted"><strong>Search Posts</strong></h5>
        <img src="{% static 'img/blog_app/blg-1.png' %}" class="rounded mt-8 mb-8" style="width: 100%;" alt="Illustration for tips">
        <div class="card text-center mb-4">
          <div class="card-header">
            <div class="nav-align-top">
              <form method="get" action=".">
                <div class="input-group mb-3">
                  <input type="text" name="search" value="{{ search_query }}" class="form-control"
                         placeholder="Search by title or content">
                  <button type="submit" class="btn btn-primary"><strong>Search</strong></button>
                  <a href="." class="btn btn-secondary"><strong>Clear</strong></a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Search Bar: End -->

    <hr>

    <!-- Blog List: Start -->
    <section class="section-py mt-12">
      <div class="container">
        <div class="row mb-12">
          <div class="col-lg-10 mx-auto">
            <div class="row g-6">
              {% for post in page_obj %}
                <div class="col-xl-4 col-md-6 d-flex">
                  <div class="card border shadow-none">
                    <img class="card-img-top rounded" src="
                      {% if post.thumbnail_image %}{{ post.thumbnail_image.url }}{% else %}{% static 'img/custom-illustrations-v2/i2-1.png' %}{% endif %}"
                         alt="{{ post.title }}">
                    <div class="card-body">
                      <h5 class="my-3"><strong><a href="{% url 'blog_app:post_detail' slug=post.slug %}">{{ post.title }}</a></strong></h5>
                      <p class="mb-3">{{ post.content|safe|truncatechars:150 }}</p>
                      <a class="btn btn-sm btn-label-primary" href="{% url 'blog_app:post_detail' slug=post.slug %}">
                        <strong>Read More</strong></a>
                      <hr>
                      <div class="mt-2">
                        {% for tag in post.tags.all %}
                          <span class="badge bg-primary rounded p-1 m-1">
                            <strong>#{{ tag.name }}</strong>
                          </span>
                        {% endfor %}
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>

        <hr>

        <!-- Pagination: Start -->
        <div class="d-flex justify-content-center mt-8">
          <nav aria-label="Page navigation">
            <ul class="pagination">
              {% if page_obj.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page=1{% if search_query %}&search={{ search_query }}{% endif %}">
                    <span aria-hidden="true">&laquo;&laquo;</span>
                  </a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="?page=
                    {{ page_obj.previous_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <span class="page-link">&laquo;&laquo;</span>
                </li>
                <li class="page-item disabled">
                  <span class="page-link">&laquo;</span>
                </li>
              {% endif %}

              {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                  <li class="page-item active"><span class="page-link">{{ num }}</span></li>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                  <li class="page-item"><a class="page-link" href="?page=
                    {{ num }}{% if search_query %}&search={{ search_query }}{% endif %}">{{ num }}</a></li>
                {% endif %}
              {% endfor %}

              {% if page_obj.has_next %}
                <li class="page-item">
                  <a class="page-link" href="?page=
                    {{ page_obj.next_page_number }}{% if search_query %}&search={{ search_query }}{% endif %}">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="?page=
                    {{ page_obj.paginator.num_pages }}{% if search_query %}&search={{ search_query }}{% endif %}">
                    <span aria-hidden="true">&raquo;&raquo;</span>
                  </a>
                </li>
              {% else %}
                <li class="page-item disabled">
                  <span class="page-link">&raquo;</span>
                </li>
                <li class="page-item disabled">
                  <span class="page-link">&raquo;&raquo;</span>
                </li>
              {% endif %}
            </ul>
          </nav>
        </div>
        <!-- Pagination: End -->

      </div>
    </section>
    <!-- Blog List: End -->
  </section>
{% endblock %}
