<!--
  ~ Copyright (c) 2024 BMD™ Autonomous Holdings. All rights reserved.
  ~
  ~ Project: Bimod.io™
  ~ File: update_wallet_connection.html
  ~ Last Modified: 2024-10-19 22:32:16
  ~ Author: Ege Dogan Dursun (Co-Founder & Chief Executive Officer / CEO @ BMD™ Autonomous Holdings)
  ~ Created: 2024-10-19 22:32:16
  ~
  ~ This software is proprietary and confidential. Unauthorized copying,
  ~ distribution, modification, or use of this software, whether for
  ~ commercial, academic, or any other purpose, is strictly prohibited
  ~ without the prior express written permission of BMD™ Autonomous
  ~ Holdings.
  ~
  ~  For permission inquiries, please contact: admin@Bimod.io.
  ~
  -->


{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Update Wallet Connection{% endblock %}

{% block vendor_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/libs/select2/select2.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
{{ block.super }}
<script src="{% static 'vendor/libs/select2/select2.js' %}"></script>
{% endblock vendor_js %}

{% block content %}
<div class="row">
  <div class="col-xl mb-6">
    <div class="card">
      <div class="card-header justify-content-between align-items-center">
        <h5 class="mb-0"><strong>Update Wallet Connection</strong></h5>
        <a href="{% url 'smart_contracts:wallet_connection_list' %}">
          <button class="btn btn-secondary mt-4 mb-8">
            <i class="fa fa-dashboard me-4"></i>
            <strong> Manage Blockchain Wallets</strong>
          </button>
        </a>
        <div class="tips-section alert alert-secondary alert-dismissible d-flex col-lg-12 align-items-center"
             role="alert">
          <img src="{% static 'img/custom-illustrations-v2/i2-81.png' %}" width="25%" class="justify-content-end me-8"
               style="border-radius: 25px;" alt="Illustration for tips">
          <span class="alert-icon rounded">
            <i class="ti ti-bookmark"></i>
          </span>
          <div class="d-flex flex-column ps-1">
            <h5 class="alert-heading mb-2">Tip</h5>
            <p class="mb-0">
              Update the wallet connection by selecting the organization, blockchain type, and entering the wallet
              address and private key. Later on, you can use this wallet connection to interact with the blockchain,
              and to create smart contracts with AI assistants.
            </p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
            </button>
          </div>
            {% if messages %}
              {% for message in messages %}
                <div
                  class="alert {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% else %}alert-danger{% endif %}"
                  role="alert">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          </div>
          <hr>
        </div>
        <div class="card-body mt-4">
          <form method="post" action="{% url 'smart_contracts:wallet_connection_update' wallet_connection.id %}">
            {% csrf_token %}
            <img src="{% static 'img/smart_contracts/wal-1.png' %}" class="rounded" style="width: 100%;" alt="Illustration for tips">
            <div class="row p-8">
              <div class="col-4 mb-6">
                <label class="form-label" for="organization">Organization</label>
                <select class="form-select" id="organization" name="organization" required>
                  {% for org in organizations %}
                  <option value="{{ org.id }}" {% if wallet_connection.organization.id == org.id %}selected{% endif %}>
                    {{ org.name }}
                  </option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-4 mb-6">
                <label class="form-label" for="nickname">Nickname</label>
                <input type="text" class="form-control" id="nickname" name="nickname"
                       value="{{ wallet_connection.nickname }}" required>
              </div>
              <div class="col-4 mb-6">
                <label class="form-label" for="description">Description</label>
                <textarea class="form-control" id="description" name="description" rows="1">{{ wallet_connection.description }}</textarea>
              </div>
              <div class="col-4 mb-6">
                <label class="form-label" for="blockchain_type">Blockchain Type</label>
                <select class="form-select" id="blockchain_type" name="blockchain_type" required>
                  {% for type, label in blockchain_types %}
                  <option value="{{ type }}" {% if wallet_connection.blockchain_type == type %}selected{% endif %}>
                    {{ label }}
                  </option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-4 mb-6">
                <label class="form-label" for="wallet_address">Wallet Address</label>
                <input type="text" class="form-control" id="wallet_address" name="wallet_address"
                       value="{{ wallet_connection.wallet_address }}" required>
              </div>
              <div class="col-4 mb-6">
                <label class="form-label" for="wallet_private_key">Wallet Private Key</label>
                <input type="password" class="form-control" id="wallet_private_key" name="wallet_private_key"
                       value="{{ wallet_connection.wallet_private_key }}" required>
              </div>
            </div>
            <hr>
            <button type="submit" class="btn btn-primary d-grid w-25 mt-4"><strong>
              <i class="fa fa-save me-4"></i>
              Update Wallet Connection
            </strong></button>
          </form>
        </div>
      </div>
    </div>
  </div>
  {% endblock %}
