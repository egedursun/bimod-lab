

{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Reset Password - {% get_theme_variables 'template_name' %}{% endblock %}

{% block vendor_css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'vendor/libs/@form-validation/form-validation.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
  {{ block.super }}
  <script src="{% static 'vendor/libs/@form-validation/popular.js' %}"></script>
  <script src="{% static 'vendor/libs/@form-validation/bootstrap5.js' %}"></script>
  <script src="{% static 'vendor/libs/@form-validation/auto-focus.js' %}"></script>
{% endblock vendor_js %}

{% block page_css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'vendor/css/pages/page-auth.css' %}" />
{% endblock page_css %}

{% block page_js %}
  {{ block.super }}
  <script src="{% static 'js/pages-auth.js' %}"></script>
{% endblock page_js %}

{% block content %}
  <div class="authentication-wrapper authentication-cover">
    <!-- Logo -->
    <a href="{% url 'landing:index' %}" class="app-brand auth-cover-brand">
    <span class="">
      <!-- { % include 'partials/logo.html' with height=20 bgcolor="fill: #fff;" % } -->
      <img src="{% static 'img/logo.png' %}" alt="logo" style="width: 7vw;" class="ms-0">
    </span>
      <span class="app-brand-text demo text-heading fw-bold"
            style="font-size: 1.5vw;">{% get_theme_variables 'template_name' %}</span>
    </a>
    <!-- /Logo -->
    <div class="authentication-inner row m-0">

      <!-- /Left Text -->
      <div class="d-none d-lg-flex col-lg-8 p-0">
        <div class="auth-cover-bg auth-cover-bg-color d-flex justify-content-center align-items-center">
          <img src="{% static 'img/custom-illustrations-v2/i2-80.png' %}" width="50%"
               style="border-radius: 25px; margin-top: 20%;" class="">
          <img src="{% static 'img/illustrations/bg-shape-image-' %}{{ COOKIES.style|default:style }}.png"
               alt="auth-reset-password-cover" class="platform-bg"
               data-app-light-img="illustrations/bg-shape-image-light.png"
               data-app-dark-img="illustrations/bg-shape-image-dark.png">
        </div>
      </div>
      <!-- /Left Text -->

      <!-- Reset Password -->
      <div class="d-flex col-12 col-lg-4 align-items-center authentication-bg p-6 p-sm-12">
        <div class="w-px-400 mx-auto mt-12 pt-5">
          <h4 class="mb-1">
            <strong>Reset Your Password</strong>
          </h4>
          {% if messages %}
            {% for message in messages %}
              <div
                class="alert {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% else %}alert-warning{% endif %}"
                role="alert">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
          <p class="mb-6 mt-6"><span class="fw-medium">
          You will be automatically redirected to your dashboard after you successfully set your new password.
        </span></p>
          <form id="formAuthentication" class="mb-6" method="post">
            {% csrf_token %}
            <div class="mb-6 form-password-toggle">
              <label class="form-label" for="password">New Password</label>
              <div class="input-group input-group-merge">
                <input type="password" id="password" class="form-control" name="password"
                       placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                       aria-describedby="password" />
                <span class="input-group-text cursor-pointer"><i class="ti ti-eye-off"></i></span>
              </div>
            </div>
            <div class="mb-6 form-password-toggle">
              <label class="form-label" for="confirm-password">Confirm Password</label>
              <div class="input-group input-group-merge">
                <input type="password" id="confirm-password" class="form-control" name="confirm-password"
                       placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                       aria-describedby="password" />
                <span class="input-group-text cursor-pointer"><i class="ti ti-eye-off"></i></span>
              </div>
            </div>

            <div class="alert alert-solid-secondary d-flex align-items-center mt-6 text-small" role="alert">
                <span class="alert-icon rounded">
                  <i class="ti ti-info-circle"></i>
                </span>
              <small>
                The password must satisfy the following constraints to be accepted: <br>
                - Contain at least 8 characters in total. <br>
                - Contain at least one uppercase letter. (e.g. A, B, ..., Z) <br>
                - Contain at least one lowercase letter. (e.g. a, b, ..., z) <br>
                - Contain at least one digit (e.g. 0, 1, 2, ..., 9) <br>
                - Contain at least one special character. (e.g. !, @, ..., *) <br>
              </small>
            </div>

            <button class="btn btn-primary d-grid w-100 mb-6" type="submit">
              <strong><i class="ti ti-shield-bolt me-1_5"></i>
                Set Password
              </strong>
            </button>
            <div class="text-center">
              <a href="{% url 'login' %}">
                <i class="ti ti-chevron-left scaleX-n1-rtl me-1_5"></i>
                <strong>Back to Login</strong>
              </a>
            </div>
          </form>
        </div>
      </div>
      <!-- /Reset Password -->
    </div>
  </div>
{% endblock content %}
